<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <meta name="google-signin-client_id" content="307551660531-edetdp742dlq1fbhicnom5365ctfv8s8.apps.googleusercontent.com">
        <link rel="stylesheet" href="./public/css/style.css" />
        <script defer src="https://cdnjs.cloudflare.com/ajax/libs/dexie/2.0.4/dexie.min.js" integrity="sha256-ubffRsoh9QK5xJC/u3s3drtGFBZUHBm9bHFRzYvtkJI=" crossorigin="anonymous"></script>
        <title>SquareMatch</title>
    </head>
    <body>

        <div id="fb-root"></div>
        <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v5.0&appId=1294071634127793&autoLogAppEvents=1"></script>
        <script src="https://apis.google.com/js/platform.js" async defer></script>
        <script src="./public/js/login.js"></script>

        <script>

            const db = new Dexie('userDB');
            db.version(1).stores({
                users: '&email, name, times, googleID, fbID'
            });

        </script>

        <div id="content">
            <header>
                <div id="title">SquareMatch</div>
                <div id="prompt-click">Click on a square to start!</div>
                <div id="prompt-trace" style="display: none"></div>
            </header>
            <div class="btn-wrapper">
                <a id="click" href="./index.html"><button id="reset">Reset</button></a>
                <div id="timer">00:00:00</div>
                <span id="how-to-play">How to play</span>
                <div id="help-menu">
                    <span>There are two game modes: Click and Trace. In both game modes the goal is the same: convert all of the squares to the same color as fast as you can.</span>
                    <span><br></span>
                    <span>Squares will change color randomly as you click on or trace over them, respectively. The counter in the squares' centers will keep track of how many squares you need to convert to win.</span>
                    <span><br></span>
                    <span>The reset button will restart your game at any time and start a new game once you finish. Sign in to keep track of your fastest times!</span>
                </div>
                <div class="toggle-wrapper">
                    Toggle: 
                    <a href="./index.html">Click</a>
                    /
                    <a href="./trace.html">Trace</a>
                </div>
            </div>
            <div id="squares">
                <div class="square" state="" init="rgba(200, 0, 0, 1)" n="0">
                    16
                </div>
                <div class="square" state="" init="rgba(0, 200, 0, 1)" n="1">
                    16
                </div>
                <div class="square" state="" init="rgba(0, 0, 200, 1)" n="2">
                    16
                </div>
                <div class="square" state="" init="rgba(200, 200, 0, 1)" n="3">
                    16
                </div>
                <div class="square" state="" init="rgba(200, 0, 200, 1)" n="4">
                    16
                </div>
                <div class="square" state="" init="rgba(0, 200, 200, 1)" n="5">
                    16
                </div>
                <div class="square" state="" init="rgba(200, 0, 0, 1)" n="6">
                    16
                </div>
                <div class="square" state="" init="rgba(0, 200, 0, 1)" n="7">
                    16
                </div>
                <div class="square" state="" init="rgba(0, 0, 200, 1)" n="8">
                    16
                </div>
                <div class="square" state="" init="rgba(200, 200, 0, 1)" n="9">
                    16
                </div>
                <div class="square" state="" init="rgba(200, 0, 200, 1)" n="10">
                    16
                </div>
                <div class="square" state="" init="rgba(0, 200, 200, 1)" n="11">
                    16
                </div>
                <div class="square" state="" init="rgba(200, 0, 0, 1)" n="12">
                    16
                </div>
                <div class="square" state="" init="rgba(0, 200, 0, 1)" n="13">
                    16
                </div>
                <div class="square" state="" init="rgba(0, 0, 200, 1)" n="14">
                    16
                </div>
                <div class="square" state="" init="rgba(200, 200, 0, 1)" n="15">
                    16
                </div>
            </div>
            <div id="victoryMsgBox">
                <div id="victoryMsg">Victory!</div>
                <div id="victoryTime">Finished in:</div>
                <div id="recordTime">Best Time:</div>
            </div>
            <div id="squares-remaining">Squares Remaining: 16</div>
        </div>
        <footer>
            <div id="copyright">Copyright Â©2020; SquareMatch @squarematch.xyz</div>
            <div id="me">Nick Barak</div>
        </footer>

        <select id="login-check" style="display: none">
            <option selected value="false"></option>
            <option value="true"></option>
        </select>

        <div class="fb-login-button" scope="public_profile,email" onlogin="checkLoginState" style="position: absolute; top: 49px; right: 12.3%;" data-width="" data-size="medium" data-button-type="continue_with" data-auto-logout-link="true" data-use-continue-as="false"></div>
        <div class="g-signin2" style="height: 27px; width: 98px; position: absolute; top: 13px; right: 12.3%;" data-onsuccess="onSignIn"></div>
        <a class="googleSignOut" href="#" onclick="signOut();">Sign out</a>

        <script type="text/JavaScript" src="./public/js/main.js"></script>

    </body>
</html>